import { Link } from "react-router-dom";
import Topbar from "./Topbar";
import "./Sidebar.css";
import { useState } from "react";
const Sidebar = ({ windowSize, user }: { windowSize: number; user: any }) => {
  const [sidebar, setSidebar] = useState(false);
  return (
    <>
      <Topbar sidebar={sidebar} setSidebarOpen={setSidebar} />
      <div
        className="sidebar"
        style={{
          display: windowSize < 1250 ? (sidebar ? "flex" : "none") : "flex",
        }}
      >
        {windowSize < 1250 && (
          <div
            style={{
              width: "100%",
              display: "flex",
              justifyContent: "flex-end",
              padding: "0 1rem",
            }}
          >
            <button className="sidebar-close-btn">
              <svg
                className="sidebar-close"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                onClick={() => setSidebar(false)}
                style={{ width: "2rem", height: "2rem" }}
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth="2"
                  d="M6 18L18 6M6 6l12 12"
                />
              </svg>
            </button>
          </div>
        )}
        <div className="sidebar-header">
          <img src="/chess-logo.png" alt="chess-logo" />
          chess
        </div>
        <div className="sidebar-content">
          <Link
            to="/"
            className="sidebar-link"
            onClick={() => setSidebar(false)}
          >
            <svg
              className="sidebar-icon"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth="2"
                d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
              />
            </svg>
            <span className="sidebar-text">Home</span>
          </Link>
          <Link to="/game" className="sidebar-link">
            <svg
              className="sidebar-icon"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M9.5 6.5C9.5 5.11929 10.6193 4 12 4C13.3807 4 14.5 5.11929 14.5 6.5C14.5 7.88071 13.3807 9 12 9C10.6193 9 9.5 7.88071 9.5 6.5ZM12 2C9.51472 2 7.5 4.01472 7.5 6.5C7.5 7.91363 8.15183 9.17502 9.17133 10H8C7.44772 10 7 10.4477 7 11C7 11.5523 7.44772 12 8 12H9.12533C9.15208 12.3659 9.16098 12.833 9.11237 13.3535C8.99568 14.6027 8.55656 16.0909 7.31094 17.2753C6.86615 17.6982 6.19221 18.1531 5.58717 18.5199C5.29266 18.6984 5.02896 18.8475 4.83934 18.9517C4.74472 19.0037 4.66905 19.0442 4.61781 19.0713L4.56008 19.1017L4.54633 19.1088L4.54347 19.1103L4.54336 19.1103L4.54322 19.1104C4.3106 19.2299 4.13401 19.4357 4.05132 19.6838L3.27924 22H3C2.44772 22 2 22.4477 2 23C2 23.5523 2.44772 24 3 24H4H20H21C21.5523 24 22 23.5523 22 23C22 22.4477 21.5523 22 21 22H20.7659L20.1559 19.7395C20.0787 19.4533 19.8784 19.2161 19.6092 19.0919L19.609 19.0918L19.6072 19.091L19.5951 19.0853C19.5836 19.0799 19.5655 19.0714 19.5415 19.0598C19.4933 19.0366 19.4214 19.0014 19.3304 18.9553C19.1482 18.8629 18.8918 18.7279 18.5996 18.5595C18.0041 18.2164 17.3055 17.7605 16.7767 17.2682C15.5139 16.0923 15.054 14.6022 14.92 13.349C14.8647 12.8316 14.8667 12.3662 14.8878 12H16C16.5523 12 17 11.5523 17 11C17 10.4477 16.5523 10 16 10H14.8287C15.8482 9.17502 16.5 7.91363 16.5 6.5C16.5 4.01472 14.4853 2 12 2ZM11.1037 13.5395C11.158 12.9576 11.1549 12.4315 11.1296 12H12.8852C12.8649 12.4363 12.8682 12.9705 12.9313 13.5616C13.0971 15.112 13.6847 17.1218 15.4138 18.7319C15.512 18.8233 15.6134 18.9128 15.717 19L8.38107 19C8.48825 18.9094 8.59149 18.8175 8.68906 18.7247C10.3982 17.0996 10.9591 15.0879 11.1037 13.5395ZM5.72076 21L18.4246 21L18.6944 22H5.38743L5.72076 21Z"
                fill="#ffffff"
              />
            </svg>
            <span className="sidebar-text">Play</span>
          </Link>
          <Link to="/analysis" className="sidebar-link">
            <svg
              fill="#ffffff"
              viewBox="0 0 1024 1024"
              className="sidebar-icon"
              xmlns="http://www.w3.org/2000/svg"
              height="200px"
              width="200px"
            >
              <path d="M841 370c3-3.3 2.7-8.3-0.6-11.3-1.5-1.3-3.4-2.1-5.3-2.1h-72.6c-2.4 0-4.6 1-6.1 2.8L633.5 504.6c-2.9 3.4-7.9 3.8-11.3 0.9-0.9-0.8-1.6-1.7-2.1-2.8l-63.5-141.3c-1.3-2.9-4.1-4.7-7.3-4.7H380.7l0.9-4.7 8-42.3c10.5-55.4 38-81.4 85.8-81.4 18.6 0 35.5 1.7 48.8 4.7l14.1-66.8c-22.6-4.7-35.2-6.1-54.9-6.1-103.3 0-156.4 44.3-175.9 147.3l-9.4 49.4h-97.6c-3.8 0-7.1 2.7-7.8 6.4L181.9 415c-0.9 4.3 1.9 8.6 6.2 9.5 0.5 0.1 1.1 0.2 1.6 0.2H284l-89 429.9c-0.9 4.3 1.9 8.6 6.2 9.5 0.5 0.1 1.1 0.2 1.6 0.2H269c3.8 0 7.1-2.7 7.8-6.4l89.7-433.1h135.8l68.2 139.1c1.4 2.9 1 6.4-1.2 8.8l-180.6 203c-2.9 3.3-2.6 8.4 0.7 11.3 1.5 1.3 3.4 2 5.3 2h72.7c2.4 0 4.6-1 6.1-2.8l123.7-146.7c2.8-3.4 7.9-3.8 11.3-1 0.9 0.8 1.6 1.7 2.1 2.8L676.4 784c1.3 2.8 4.1 4.7 7.3 4.7h64.6c4.4 0 8-3.6 8-8 0-1.2-0.3-2.4-0.8-3.5l-95.2-198.9c-1.4-2.9-0.9-6.4 1.3-8.8L841 370z"></path>
            </svg>
            <span className="sidebar-text">Analysis</span>
          </Link>
          <Link to="/about" className="sidebar-link">
            <svg
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 122.88 122.881"
              fill="#ffffff"
              className="sidebar-icon"
            >
              <g>
                <path d="M44.541,97.197V86.404c0-1.645,1.333-2.977,2.978-2.977h1.438V65.344h-1.701c-1.645,0-2.979-1.334-2.979-2.979v-11.48 c0-1.645,1.334-2.978,2.979-2.978h21.175c2.018,0,3.538,0.855,4.565,2.558c0.735,1.221,1.103,2.849,1.103,4.88v28.082h1.526 c1.645,0,2.979,1.332,2.979,2.977v10.793c0,1.645-1.334,2.979-2.979,2.979H47.519C45.874,100.176,44.541,98.842,44.541,97.197 L44.541,97.197z M61.44,5.956c-3.841,0-7.565,0.361-11.169,1.083c-3.61,0.722-7.09,1.799-10.439,3.229l0.002,0.004 c-3.412,1.467-6.585,3.181-9.515,5.147c-2.938,1.971-5.661,4.21-8.165,6.724l-0.012,0.011l0,0 c-2.513,2.504-4.752,5.227-6.724,8.165c-1.966,2.93-3.68,6.104-5.147,9.515c-0.021,0.048-0.042,0.095-0.065,0.142 c-1.4,3.304-2.456,6.737-3.168,10.295c-0.721,3.604-1.082,7.328-1.082,11.168c0,3.842,0.361,7.564,1.082,11.17 c0.723,3.609,1.799,7.09,3.229,10.438h0.004c1.467,3.41,3.182,6.584,5.147,9.514c1.971,2.938,4.21,5.662,6.724,8.166l0.011,0.012 l0-0.002c2.504,2.514,5.227,4.754,8.165,6.725c2.93,1.967,6.104,3.68,9.515,5.146c0.048,0.021,0.095,0.043,0.141,0.066 c3.305,1.398,6.737,2.455,10.296,3.168c3.604,0.721,7.328,1.082,11.169,1.082s7.564-0.361,11.169-1.082 c3.609-0.723,7.09-1.799,10.438-3.229l-0.002-0.006c3.412-1.467,6.586-3.18,9.516-5.146c2.938-1.971,5.66-4.211,8.164-6.725 l0.013-0.01h-0.001c2.514-2.504,4.753-5.229,6.724-8.166c1.966-2.93,3.681-6.104,5.147-9.514c0.021-0.049,0.043-0.096,0.065-0.143 c1.399-3.305,2.456-6.736,3.168-10.295c0.722-3.605,1.083-7.328,1.083-11.17c0-3.84-0.361-7.564-1.083-11.168 c-0.723-3.61-1.799-7.09-3.229-10.438l-0.004,0.001c-1.467-3.412-3.182-6.585-5.147-9.515c-1.971-2.938-4.21-5.661-6.724-8.165 l-0.011-0.012l-0.001,0c-2.504-2.514-5.227-4.752-8.164-6.724c-2.93-1.966-6.104-3.681-9.516-5.147 c-0.048-0.021-0.095-0.043-0.141-0.065c-3.305-1.399-6.737-2.456-10.296-3.168C69.005,6.317,65.281,5.956,61.44,5.956L61.44,5.956z M49.108,1.199C53.1,0.4,57.212,0,61.44,0s8.34,0.4,12.332,1.199c3.927,0.786,7.748,1.967,11.461,3.541 c0.055,0.02,0.108,0.042,0.163,0.064c3.7,1.592,7.191,3.483,10.469,5.683c3.267,2.192,6.291,4.678,9.066,7.462 c2.784,2.775,5.27,5.8,7.462,9.067c2.199,3.276,4.091,6.768,5.683,10.468l-0.005,0.002l0.005,0.01 c1.606,3.76,2.809,7.631,3.605,11.612c0.799,3.992,1.198,8.104,1.198,12.332c0,4.229-0.399,8.342-1.198,12.332 c-0.786,3.928-1.967,7.748-3.541,11.461c-0.02,0.055-0.041,0.109-0.064,0.164c-1.592,3.699-3.483,7.191-5.683,10.469 c-2.192,3.266-4.678,6.291-7.462,9.066c-2.775,2.783-5.8,5.27-9.066,7.461c-3.277,2.199-6.769,4.092-10.469,5.684l-0.002-0.004 l-0.011,0.004c-3.76,1.605-7.631,2.809-11.611,3.605c-3.992,0.799-8.104,1.199-12.332,1.199s-8.34-0.4-12.332-1.199 c-3.927-0.787-7.749-1.967-11.461-3.541c-0.055-0.02-0.109-0.041-0.163-0.064c-3.701-1.592-7.192-3.484-10.469-5.684 c-3.267-2.191-6.291-4.678-9.066-7.461c-2.784-2.775-5.27-5.801-7.462-9.066c-2.199-3.277-4.091-6.77-5.683-10.469l0.004-0.002 l-0.004-0.01c-1.607-3.76-2.809-7.633-3.605-11.613C0.4,69.781,0,65.668,0,61.439c0-4.228,0.4-8.34,1.199-12.332 c0.786-3.927,1.966-7.748,3.541-11.46c0.02-0.055,0.041-0.109,0.064-0.164c1.592-3.7,3.483-7.192,5.683-10.468 c2.192-3.267,4.678-6.292,7.462-9.067c2.775-2.784,5.799-5.27,9.066-7.462c3.277-2.199,6.768-4.091,10.469-5.683l0.002,0.004 l0.01-0.004C41.256,3.197,45.128,1.995,49.108,1.199L49.108,1.199z M50.497,89.328v4.891h22.149v-4.891 c-0.491-0.08-0.973-0.252-1.444-0.514c-0.498-0.273-0.967-0.635-1.412-1.078c-0.439-0.439-0.801-0.916-1.081-1.43 c-0.375-0.686-0.566-1.385-0.566-2.094V55.346c0-0.659-0.04-1.153-0.12-1.482H50.234v5.543c0.599,0.059,1.181,0.251,1.743,0.574 l-0.005,0.009l0.005,0.003c0.423,0.244,0.832,0.564,1.224,0.96c0.065,0.06,0.13,0.123,0.191,0.19 c0.426,0.465,0.762,0.928,1.001,1.389c0.345,0.662,0.521,1.338,0.521,2.027v19.654c0,0.619-0.14,1.227-0.414,1.822 c-0.032,0.078-0.068,0.156-0.108,0.232c-0.246,0.473-0.588,0.938-1.022,1.398c-0.441,0.469-0.907,0.844-1.401,1.125 C51.488,89.064,50.999,89.244,50.497,89.328L50.497,89.328z M61.484,44.549c-1.631,0-3.141-0.245-4.533-0.735 c-1.441-0.509-2.722-1.273-3.844-2.296c-0.053-0.047-0.103-0.097-0.151-0.147c-1.085-1.014-1.903-2.184-2.457-3.508 c-0.571-1.365-0.854-2.86-0.854-4.48c0-1.616,0.283-3.119,0.855-4.501c0.585-1.416,1.453-2.654,2.607-3.708l0.06-0.053 c1.098-1,2.355-1.754,3.772-2.264c1.407-0.507,2.922-0.759,4.545-0.759c1.662,0,3.194,0.249,4.599,0.747 c1.453,0.516,2.741,1.292,3.864,2.329l0.001-0.001c1.154,1.054,2.022,2.292,2.608,3.708c0.571,1.382,0.854,2.885,0.854,4.501 c0,1.621-0.282,3.116-0.854,4.481c-0.58,1.386-1.449,2.604-2.613,3.65l0.005,0.005c-1.12,1.021-2.412,1.786-3.877,2.296 C64.66,44.305,63.132,44.549,61.484,44.549L61.484,44.549z M58.929,38.207c0.731,0.258,1.583,0.387,2.556,0.387 c1.014,0,1.892-0.128,2.633-0.387c0.688-0.239,1.298-0.601,1.829-1.085l0.005,0.005l0.019-0.017 c0.489-0.438,0.854-0.947,1.097-1.526c0.26-0.622,0.389-1.356,0.389-2.201c0-0.865-0.129-1.614-0.39-2.245 c-0.24-0.582-0.613-1.105-1.119-1.567l0.002-0.001l-0.025-0.022c-0.522-0.485-1.128-0.851-1.817-1.095 c-0.748-0.266-1.622-0.398-2.621-0.398c-0.979,0-1.828,0.129-2.544,0.387c-0.649,0.233-1.235,0.587-1.757,1.06 c-0.024,0.024-0.048,0.047-0.074,0.07c-0.506,0.462-0.878,0.985-1.119,1.567c-0.26,0.63-0.39,1.38-0.39,2.244 c0,0.844,0.129,1.579,0.389,2.2c0.223,0.533,0.549,1.006,0.98,1.419c0.047,0.038,0.094,0.078,0.139,0.119 C57.64,37.604,58.246,37.966,58.929,38.207L58.929,38.207z" />
              </g>
            </svg>
            <span className="sidebar-text">About</span>
          </Link>
        </div>

        {user.user === "guest" ? (
          <div className="user-functions">
            <Link to="/login" className="sidebar-link userfn-btn sidebar-text">
              Login
            </Link>
            <Link to="/signup" className="sidebar-link userfn-btn sidebar-text">
              Signup
            </Link>
          </div>
        ) : (
          <div className="user-container">
            <div className="user-details">
              <img src="./default_user.jpg" alt="" className="user-image" />
              <div className="user-details-text">
                <h4 className="sidebar-text">{user?.username}</h4>
                <p className="sidebar-text">{user?.email}</p>
              </div>
            </div>
            <button className="logout-btn">Logout</button>
          </div>
        )}
      </div>
    </>
  );
};

export default Sidebar;
